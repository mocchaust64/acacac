{"ast":null,"code":"var _jsxFileName = \"/Users/tai/Documents/MoonWallet/moonwallet/frontend_test/src/components/TransferForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { web3 } from '@coral-xyz/anchor';\nimport { LAMPORTS_PER_SOL } from '@solana/web3.js';\nimport { programID, SECP256R1_PROGRAM_ID, verifySecp256r1Signature } from '../utils/transactionUtils';\nimport { getWebAuthnAssertion } from '../utils/webauthnUtils';\nimport { getGuardianPDA, getMultisigPDA } from '../utils/credentialUtils';\nimport { getWalletByCredentialId } from '../firebase/webAuthnService';\nimport { Buffer } from 'buffer';\nimport BN from 'bn.js';\n\n// Hằng số cho chuẩn hóa signature\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SECP256R1_ORDER = new BN('FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551', 16);\nconst SECP256R1_HALF_ORDER = SECP256R1_ORDER.shrn(1);\n\n/**\n * Chuẩn hóa chữ ký về dạng Low-S\n * @param signature - Chữ ký raw\n * @returns Chữ ký đã chuẩn hóa\n */\nfunction normalizeSignatureToLowS(signature) {\n  const r = signature.slice(0, 32);\n  const s = signature.slice(32, 64);\n  const sBN = new BN(s);\n\n  // Kiểm tra nếu s > half_order\n  if (sBN.gt(SECP256R1_HALF_ORDER)) {\n    console.log(\"Chuẩn hóa signature về dạng Low-S\");\n    // Tính s' = order - s\n    const sNormalized = SECP256R1_ORDER.sub(sBN);\n    const sNormalizedBuffer = sNormalized.toArrayLike(Buffer, 'be', 32);\n    return Buffer.concat([r, sNormalizedBuffer]);\n  }\n  console.log(\"Signature đã ở dạng Low-S\");\n  return signature;\n}\n\n// Hàm chuyển đổi chữ ký DER sang raw (r, s) format\nconst convertDERtoRaw = derSignature => {\n  // Đảm bảo đây là DER signature\n  if (derSignature[0] !== 0x30) {\n    console.error('Chữ ký không phải định dạng DER');\n    return new Uint8Array(64); // Trả về buffer rỗng nếu không đúng định dạng\n  }\n\n  // Parse DER format\n  // Format: 0x30 [total-length] 0x02 [r-length] [r] 0x02 [s-length] [s]\n  const rLength = derSignature[3];\n  const rStart = 4;\n  const rEnd = rStart + rLength;\n  const sLength = derSignature[rEnd + 1];\n  const sStart = rEnd + 2;\n  const sEnd = sStart + sLength;\n\n  // Trích xuất r và s\n  let r = derSignature.slice(rStart, rEnd);\n  let s = derSignature.slice(sStart, sEnd);\n\n  // Cần đảm bảo r và s đúng 32 bytes\n  // - Nếu dài hơn 32 bytes, cắt bớt (thường r và s có thể có padding)\n  // - Nếu ngắn hơn 32 bytes, thêm padding 0 vào đầu\n  const rPadded = new Uint8Array(32);\n  const sPadded = new Uint8Array(32);\n  if (r.length <= 32) {\n    // Trường hợp r ngắn hơn 32 bytes, thêm padding\n    rPadded.set(r, 32 - r.length);\n  } else {\n    // Trường hợp r dài hơn 32 bytes, cắt bớt (thường là byte đầu tiên là 0)\n    rPadded.set(r.slice(r.length - 32));\n  }\n  if (s.length <= 32) {\n    // Trường hợp s ngắn hơn 32 bytes, thêm padding\n    sPadded.set(s, 32 - s.length);\n  } else {\n    // Trường hợp s dài hơn 32 bytes, cắt bớt (thường là byte đầu tiên là 0)\n    sPadded.set(s.slice(s.length - 32));\n  }\n\n  // Nối r và s lại\n  const rawSignature = new Uint8Array(64);\n  rawSignature.set(rPadded);\n  rawSignature.set(sPadded, 32);\n  console.log('Đã chuyển đổi signature từ DER sang raw format:');\n  console.log('- DER length:', derSignature.length);\n  console.log('- Raw length:', rawSignature.length);\n  return rawSignature;\n};\n\n// Enum cho các trạng thái xác minh\nvar VerificationStatus = /*#__PURE__*/function (VerificationStatus) {\n  VerificationStatus[\"IDLE\"] = \"idle\";\n  VerificationStatus[\"PREPARING\"] = \"preparing\";\n  VerificationStatus[\"SIGNING\"] = \"signing\";\n  VerificationStatus[\"VERIFYING\"] = \"verifying\";\n  VerificationStatus[\"SUCCESS\"] = \"success\";\n  VerificationStatus[\"ERROR\"] = \"error\";\n  return VerificationStatus;\n}(VerificationStatus || {}); // Interface cho props của component\nexport const TransferForm = ({\n  walletAddress,\n  credentialId,\n  guardianId,\n  connection,\n  pdaBalance = 0\n}) => {\n  _s();\n  // State\n  const [message, setMessage] = useState(\"\");\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [status, setStatus] = useState(VerificationStatus.IDLE);\n  const [isMoonWalletAvailable, setIsMoonWalletAvailable] = useState(false);\n  const [connectionEndpoint, setConnectionEndpoint] = useState('');\n  const [signatureResult, setSignatureResult] = useState('');\n\n  // Kiểm tra chương trình\n  useEffect(() => {\n    const checkPrograms = async () => {\n      try {\n        // Lấy endpoint của connection để hiển thị\n        const endpoint = connection.rpcEndpoint;\n        setConnectionEndpoint(endpoint);\n        console.log(\"Đang kết nối đến:\", endpoint);\n\n        // Kiểm tra chương trình MoonWallet\n        try {\n          const moonWalletInfo = await connection.getAccountInfo(programID);\n          setIsMoonWalletAvailable(moonWalletInfo !== null);\n          if (moonWalletInfo === null) {\n            console.warn(\"Chương trình MoonWallet không tồn tại trên validator này!\");\n          } else {\n            console.log(\"Đã tìm thấy chương trình MoonWallet:\", programID.toString());\n          }\n        } catch (error) {\n          console.error(\"Lỗi khi kiểm tra chương trình MoonWallet:\", error);\n          setIsMoonWalletAvailable(false);\n        }\n      } catch (error) {\n        console.error(\"Lỗi khi kiểm tra chương trình:\", error);\n      }\n    };\n    checkPrograms();\n  }, [connection]);\n\n  // Xử lý khi nhập message\n  const handleMessageChange = e => {\n    setMessage(e.target.value);\n    setError('');\n    setSuccess('');\n    setStatus(VerificationStatus.IDLE);\n    setSignatureResult('');\n  };\n\n  // Xử lý khi submit form\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setIsProcessing(true);\n    setError('');\n    setSuccess('');\n    setSignatureResult('');\n    setStatus(VerificationStatus.PREPARING);\n    try {\n      // Kiểm tra đầu vào\n      if (!message) {\n        throw new Error('Vui lòng nhập tin nhắn cần ký');\n      }\n\n      // Chuyển message thành bytes\n      const messageBytes = new TextEncoder().encode(message);\n      console.log('Message bytes (UTF-8):', Array.from(messageBytes));\n      console.log('Message bytes (hex):', Array.from(messageBytes).map(b => b.toString(16).padStart(2, '0')).join(''));\n\n      // Lấy PDA từ credential ID\n      const multisigPDA = await getMultisigPDA(credentialId);\n      console.log('MultisigPDA:', multisigPDA.toBase58());\n\n      // Lấy PDA của guardian\n      const guardianPDA = await getGuardianPDA(multisigPDA, guardianId);\n      console.log('GuardianPDA:', guardianPDA.toBase58());\n\n      // Ký message bằng WebAuthn\n      setStatus(VerificationStatus.SIGNING);\n\n      // Hiển thị thông báo\n      console.log('Đang yêu cầu xác thực WebAuthn...');\n      setError(''); // Xóa thông báo lỗi trước đó\n      setSuccess('Đang hiển thị danh sách khóa WebAuthn, vui lòng chọn khóa để xác thực...');\n\n      // Sử dụng trực tiếp message gốc làm dữ liệu để ký với WebAuthn\n      // WebAuthn sẽ tự động hash dữ liệu này với SHA-256 trước khi ký\n      const assertion = await getWebAuthnAssertion(null, message, true);\n      if (!assertion) {\n        throw new Error('Lỗi khi ký message bằng WebAuthn hoặc người dùng đã hủy xác thực');\n      }\n      console.log('Đã ký thành công bằng WebAuthn');\n      console.log('ClientDataJSON:', new TextDecoder().decode(assertion.clientDataJSON));\n\n      // Phân tích clientDataJSON để hiểu cách WebAuthn hash message\n      try {\n        const clientDataObj = JSON.parse(new TextDecoder().decode(assertion.clientDataJSON));\n        console.log('ClientData object:', clientDataObj);\n      } catch (e) {\n        console.error('Lỗi khi phân tích clientDataJSON:', e);\n      }\n      setSuccess(''); // Xóa thông báo thành công tạm thời\n\n      // Lấy chữ ký từ WebAuthn assertion và chuyển đổi từ DER sang raw format\n      console.log('Signature từ WebAuthn (DER format):', Buffer.from(assertion.signature).toString('hex'));\n      console.log('Độ dài signature ban đầu:', assertion.signature.byteLength);\n\n      // Chuyển đổi signature từ DER sang raw format (r, s)\n      const rawSignature = convertDERtoRaw(assertion.signature);\n      const signature = Buffer.from(rawSignature);\n      console.log('Signature sau khi chuyển đổi (raw format):', signature.toString('hex'));\n      console.log('Độ dài signature sau khi chuyển đổi:', signature.length);\n\n      // Thêm bước chuẩn hóa signature về dạng Low-S\n      const normalizedSignature = normalizeSignatureToLowS(signature);\n      console.log(\"Signature sau khi chuẩn hóa (Low-S format):\", normalizedSignature.toString(\"hex\"));\n\n      // LẤY WEBAUTHN PUBLIC KEY TỪ FIREBASE\n      console.log('Lấy WebAuthn public key từ Firebase...');\n      const credentialMapping = await getWalletByCredentialId(credentialId);\n      if (!credentialMapping || !credentialMapping.guardianPublicKey || credentialMapping.guardianPublicKey.length === 0) {\n        throw new Error('Không tìm thấy public key cho credential ID này');\n      }\n\n      // Sử dụng WebAuthn public key từ Firebase\n      console.log('Đã tìm thấy WebAuthn public key trong Firebase:', credentialMapping.guardianPublicKey);\n      // Chuyển đổi từ mảng số về Buffer\n      const webAuthnPubKey = Buffer.from(new Uint8Array(credentialMapping.guardianPublicKey));\n\n      // Kiểm tra độ dài khóa\n      if (webAuthnPubKey.length !== 33) {\n        console.warn(`WebAuthn public key từ Firebase có độ dài không đúng: ${webAuthnPubKey.length} bytes, cần 33 bytes`);\n      }\n\n      // Xác minh chữ ký\n      setStatus(VerificationStatus.VERIFYING);\n\n      // Tạo ví tạm để trả phí giao dịch\n      const feePayer = web3.Keypair.generate();\n\n      // Xin SOL airdrop để trả phí\n      try {\n        const airdropSignature = await connection.requestAirdrop(feePayer.publicKey, web3.LAMPORTS_PER_SOL / 50 // 0.02 SOL để trả phí\n        );\n        await connection.confirmTransaction(airdropSignature);\n\n        // Kiểm tra số dư sau khi airdrop\n        const feePayerBalance = await connection.getBalance(feePayer.publicKey);\n        console.log(`Fee payer balance: ${feePayerBalance / LAMPORTS_PER_SOL} SOL`);\n        if (feePayerBalance === 0) {\n          throw new Error('Không thể airdrop SOL cho fee payer');\n        }\n      } catch (airdropError) {\n        console.warn('Không thể airdrop SOL để trả phí:', airdropError);\n        // Tiếp tục thực hiện vì có thể account đã có sẵn SOL\n      }\n\n      // Sử dụng hàm verifySecp256r1Signature để kiểm tra chữ ký\n      try {\n        const txid = await verifySecp256r1Signature(connection, Buffer.from(messageBytes), webAuthnPubKey, normalizedSignature, feePayer, false // Không đảo ngược public key\n        );\n        setStatus(VerificationStatus.SUCCESS);\n        setSuccess('Xác minh chữ ký thành công!');\n        setSignatureResult(txid);\n        console.log('Kết quả xác minh chữ ký:', txid);\n      } catch (verifyError) {\n        throw new Error(`Lỗi khi xác minh chữ ký: ${verifyError.message}`);\n      }\n    } catch (error) {\n      console.error('Lỗi khi xác minh chữ ký:', error);\n      setError(error.message || 'Đã xảy ra lỗi khi xác minh chữ ký');\n      setStatus(VerificationStatus.ERROR);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  // Render status message dựa trên status\n  const renderStatusMessage = () => {\n    switch (status) {\n      case VerificationStatus.PREPARING:\n        return 'Đang chuẩn bị xác minh chữ ký...';\n      case VerificationStatus.SIGNING:\n        return 'Vui lòng xác thực bằng WebAuthn (vân tay hoặc Face ID) khi được yêu cầu...';\n      case VerificationStatus.VERIFYING:\n        return 'Đang xác minh chữ ký trên blockchain...';\n      case VerificationStatus.SUCCESS:\n        return 'Xác minh chữ ký thành công!';\n      case VerificationStatus.ERROR:\n        return 'Xác minh chữ ký thất bại!';\n      default:\n        return '';\n    }\n  };\n\n  // Hiển thị ghi chú về validator cục bộ\n  const renderValidatorNote = () => {\n    if (connectionEndpoint.includes('localhost') || connectionEndpoint.includes('127.0.0.1')) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-note\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"L\\u01B0u \\xFD:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 14\n          }, this), \" B\\u1EA1n \\u0111ang k\\u1EBFt n\\u1ED1i \\u0111\\u1EBFn validator c\\u1EE5c b\\u1ED9.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"verify-signature-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"X\\xE1c minh ch\\u1EEF k\\xFD WebAuthn - Secp256r1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wallet-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"K\\u1EBFt n\\u1ED1i \\u0111\\u1EBFn: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: connectionEndpoint\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Credential ID: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [credentialId.substring(0, 8), \"...\", credentialId.substring(credentialId.length - 8)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: !isMoonWalletAvailable ? \"warning-message\" : \"info-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Tr\\u1EA1ng th\\xE1i ch\\u01B0\\u01A1ng tr\\xECnh:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: isMoonWalletAvailable ? \"status-ok\" : \"status-error\",\n              children: isMoonWalletAvailable ? '✅' : '❌'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this), \"MoonWallet: \", /*#__PURE__*/_jsxDEV(\"code\", {\n              children: programID.toString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"status-ok\",\n              children: \"\\u2705\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 15\n            }, this), \"Secp256r1SigVerify: \", /*#__PURE__*/_jsxDEV(\"code\", {\n              children: SECP256R1_PROGRAM_ID.toString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 35\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"program-note\",\n              children: \"Ch\\u01B0\\u01A1ng tr\\xECnh native Secp256r1SigVerify lu\\xF4n c\\xF3 s\\u1EB5n tr\\xEAn c\\xE1c validator Solana\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), renderValidatorNote()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"message\",\n          children: \"Tin nh\\u1EAFn c\\u1EA7n k\\xFD v\\xE0 x\\xE1c minh:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"message\",\n          value: message,\n          onChange: handleMessageChange,\n          placeholder: \"Nh\\u1EADp tin nh\\u1EAFn c\\u1EA7n k\\xFD v\\xE0 x\\xE1c minh\",\n          disabled: isProcessing,\n          required: true,\n          rows: 4\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-message\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 19\n      }, this), status !== VerificationStatus.IDLE && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-message\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: renderStatusMessage()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 11\n      }, this), signatureResult && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"verification-result\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"K\\u1EBFt qu\\u1EA3 x\\xE1c minh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Transaction ID: \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `https://explorer.solana.com/tx/${signatureResult}`,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: [signatureResult.slice(0, 8), \"...\", signatureResult.slice(-8)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Ch\\u1EEF k\\xFD \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c x\\xE1c minh th\\xE0nh c\\xF4ng tr\\xEAn blockchain!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"primary-button\",\n        disabled: isProcessing,\n        children: isProcessing ? 'Đang xử lý...' : 'Xác minh chữ ký'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n          .verify-signature-form {\n            max-width: 800px;\n            margin: 0 auto;\n            padding: 20px;\n          }\n          \n          .form-group {\n            margin-bottom: 15px;\n          }\n          \n          label {\n            display: block;\n            margin-bottom: 8px;\n            font-weight: bold;\n          }\n          \n          textarea {\n            width: 100%;\n            padding: 10px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            font-family: monospace;\n            margin-bottom: 15px;\n            font-size: 14px;\n          }\n          \n          .primary-button {\n            background-color: #2196F3;\n            color: white;\n            border: none;\n            padding: 10px 15px;\n            border-radius: 4px;\n            cursor: pointer;\n            font-weight: bold;\n            transition: background-color 0.3s;\n          }\n          \n          .primary-button:hover {\n            background-color: #0b7dda;\n          }\n          \n          .primary-button:disabled {\n            background-color: #cccccc;\n            cursor: not-allowed;\n          }\n          \n          .success-message, .error-message, .warning-message, .info-message {\n            margin: 12px 0;\n            padding: 10px;\n            border-radius: 4px;\n            font-weight: 500;\n          }\n          \n          .success-message {\n            background-color: rgba(0, 200, 83, 0.1);\n            color: #00C853;\n            border: 1px solid #00C853;\n          }\n          \n          .error-message {\n            background-color: rgba(255, 87, 34, 0.1);\n            color: #FF5722;\n            border: 1px solid #FF5722;\n          }\n          \n          .warning-message {\n            background-color: rgba(255, 152, 0, 0.1);\n            color: #FF9800;\n            border: 1px solid #FF9800;\n          }\n          \n          .info-message {\n            background-color: rgba(33, 150, 243, 0.1);\n            color: #333;\n            border: 1px solid #2196F3;\n          }\n          \n          .status-message {\n            margin: 12px 0;\n            padding: 10px;\n            background-color: rgba(33, 150, 243, 0.1);\n            border: 1px solid #2196F3;\n            border-radius: 4px;\n            color: #2196F3;\n          }\n          \n          .verification-result {\n            margin: 20px 0;\n            padding: 15px;\n            background-color: rgba(0, 200, 83, 0.1);\n            border: 1px solid #00C853;\n            border-radius: 4px;\n          }\n          \n          .verification-result h3 {\n            margin-top: 0;\n            color: #00C853;\n          }\n          \n          .verification-result a {\n            color: #2196F3;\n            text-decoration: none;\n          }\n          \n          .verification-result a:hover {\n            text-decoration: underline;\n          }\n          \n          .status-ok {\n            color: #00C853;\n          }\n          \n          .status-error {\n            color: #FF5722;\n          }\n          \n          .info-note {\n            margin-top: 12px;\n            padding: 8px;\n            background-color: #f8f9fa;\n            border-left: 4px solid #2196F3;\n            font-size: 0.9em;\n          }\n          \n          code {\n            font-family: monospace;\n            background-color: #f5f5f5;\n            padding: 2px 4px;\n            border-radius: 2px;\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 353,\n    columnNumber: 5\n  }, this);\n};\n_s(TransferForm, \"S5sN3iNWROIwWuwZzJX9q40G2jw=\");\n_c = TransferForm;\nvar _c;\n$RefreshReg$(_c, \"TransferForm\");","map":{"version":3,"names":["React","useState","useEffect","web3","LAMPORTS_PER_SOL","programID","SECP256R1_PROGRAM_ID","verifySecp256r1Signature","getWebAuthnAssertion","getGuardianPDA","getMultisigPDA","getWalletByCredentialId","Buffer","BN","jsxDEV","_jsxDEV","SECP256R1_ORDER","SECP256R1_HALF_ORDER","shrn","normalizeSignatureToLowS","signature","r","slice","s","sBN","gt","console","log","sNormalized","sub","sNormalizedBuffer","toArrayLike","concat","convertDERtoRaw","derSignature","error","Uint8Array","rLength","rStart","rEnd","sLength","sStart","sEnd","rPadded","sPadded","length","set","rawSignature","VerificationStatus","TransferForm","walletAddress","credentialId","guardianId","connection","pdaBalance","_s","message","setMessage","isProcessing","setIsProcessing","setError","success","setSuccess","status","setStatus","IDLE","isMoonWalletAvailable","setIsMoonWalletAvailable","connectionEndpoint","setConnectionEndpoint","signatureResult","setSignatureResult","checkPrograms","endpoint","rpcEndpoint","moonWalletInfo","getAccountInfo","warn","toString","handleMessageChange","e","target","value","handleSubmit","preventDefault","PREPARING","Error","messageBytes","TextEncoder","encode","Array","from","map","b","padStart","join","multisigPDA","toBase58","guardianPDA","SIGNING","assertion","TextDecoder","decode","clientDataJSON","clientDataObj","JSON","parse","byteLength","normalizedSignature","credentialMapping","guardianPublicKey","webAuthnPubKey","VERIFYING","feePayer","Keypair","generate","airdropSignature","requestAirdrop","publicKey","confirmTransaction","feePayerBalance","getBalance","airdropError","txid","SUCCESS","verifyError","ERROR","renderStatusMessage","renderValidatorNote","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","substring","onSubmit","htmlFor","id","onChange","placeholder","disabled","required","rows","href","rel","type","_c","$RefreshReg$"],"sources":["/Users/tai/Documents/MoonWallet/moonwallet/frontend_test/src/components/TransferForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { PublicKey, Connection, SendTransactionError } from '@solana/web3.js';\nimport { web3 } from '@coral-xyz/anchor';\nimport { LAMPORTS_PER_SOL } from '@solana/web3.js';\nimport { \n  createSecp256r1Instruction,\n  programID,\n  SECP256R1_PROGRAM_ID,\n  verifySecp256r1Signature\n} from '../utils/transactionUtils';\nimport { getWebAuthnAssertion } from '../utils/webauthnUtils';\nimport { getGuardianPDA, getMultisigPDA } from '../utils/credentialUtils';\nimport { getWalletByCredentialId } from '../firebase/webAuthnService';\nimport { Buffer } from 'buffer';\nimport BN from 'bn.js';\n\n// Hằng số cho chuẩn hóa signature\nconst SECP256R1_ORDER = new BN('FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551', 16);\nconst SECP256R1_HALF_ORDER = SECP256R1_ORDER.shrn(1);\n\n/**\n * Chuẩn hóa chữ ký về dạng Low-S\n * @param signature - Chữ ký raw\n * @returns Chữ ký đã chuẩn hóa\n */\nfunction normalizeSignatureToLowS(signature: Buffer): Buffer {\n  const r = signature.slice(0, 32);\n  const s = signature.slice(32, 64);\n  \n  const sBN = new BN(s);\n  \n  // Kiểm tra nếu s > half_order\n  if (sBN.gt(SECP256R1_HALF_ORDER)) {\n    console.log(\"Chuẩn hóa signature về dạng Low-S\");\n    // Tính s' = order - s\n    const sNormalized = SECP256R1_ORDER.sub(sBN);\n    const sNormalizedBuffer = sNormalized.toArrayLike(Buffer, 'be', 32);\n    return Buffer.concat([r, sNormalizedBuffer]);\n  }\n  \n  console.log(\"Signature đã ở dạng Low-S\");\n  return signature;\n}\n\n// Hàm chuyển đổi chữ ký DER sang raw (r, s) format\nconst convertDERtoRaw = (derSignature: Uint8Array): Uint8Array => {\n  // Đảm bảo đây là DER signature\n  if (derSignature[0] !== 0x30) {\n    console.error('Chữ ký không phải định dạng DER');\n    return new Uint8Array(64); // Trả về buffer rỗng nếu không đúng định dạng\n  }\n  \n  // Parse DER format\n  // Format: 0x30 [total-length] 0x02 [r-length] [r] 0x02 [s-length] [s]\n  const rLength = derSignature[3];\n  const rStart = 4;\n  const rEnd = rStart + rLength;\n  \n  const sLength = derSignature[rEnd + 1];\n  const sStart = rEnd + 2;\n  const sEnd = sStart + sLength;\n  \n  // Trích xuất r và s\n  let r = derSignature.slice(rStart, rEnd);\n  let s = derSignature.slice(sStart, sEnd);\n  \n  // Cần đảm bảo r và s đúng 32 bytes\n  // - Nếu dài hơn 32 bytes, cắt bớt (thường r và s có thể có padding)\n  // - Nếu ngắn hơn 32 bytes, thêm padding 0 vào đầu\n  const rPadded = new Uint8Array(32);\n  const sPadded = new Uint8Array(32);\n  \n  if (r.length <= 32) {\n    // Trường hợp r ngắn hơn 32 bytes, thêm padding\n    rPadded.set(r, 32 - r.length);\n  } else {\n    // Trường hợp r dài hơn 32 bytes, cắt bớt (thường là byte đầu tiên là 0)\n    rPadded.set(r.slice(r.length - 32));\n  }\n  \n  if (s.length <= 32) {\n    // Trường hợp s ngắn hơn 32 bytes, thêm padding\n    sPadded.set(s, 32 - s.length);\n  } else {\n    // Trường hợp s dài hơn 32 bytes, cắt bớt (thường là byte đầu tiên là 0)\n    sPadded.set(s.slice(s.length - 32));\n  }\n  \n  // Nối r và s lại\n  const rawSignature = new Uint8Array(64);\n  rawSignature.set(rPadded);\n  rawSignature.set(sPadded, 32);\n  \n  console.log('Đã chuyển đổi signature từ DER sang raw format:');\n  console.log('- DER length:', derSignature.length);\n  console.log('- Raw length:', rawSignature.length);\n  \n  return rawSignature;\n};\n\n// Enum cho các trạng thái xác minh\nenum VerificationStatus {\n  IDLE = 'idle',\n  PREPARING = 'preparing',\n  SIGNING = 'signing',\n  VERIFYING = 'verifying',\n  SUCCESS = 'success',\n  ERROR = 'error'\n}\n\n// Interface cho props của component\ninterface VerifySignatureFormProps {\n  walletAddress: string;  \n  credentialId: string;   \n  guardianId: number;\n  connection: Connection;\n  pdaBalance?: number;\n}\n\nexport const TransferForm: React.FC<VerifySignatureFormProps> = ({\n  walletAddress,\n  credentialId,\n  guardianId,\n  connection,\n  pdaBalance = 0\n}) => {\n  // State\n  const [message, setMessage] = useState<string>(\"\");\n  const [isProcessing, setIsProcessing] = useState<boolean>(false);\n  const [error, setError] = useState<string>('');\n  const [success, setSuccess] = useState<string>('');\n  const [status, setStatus] = useState<VerificationStatus>(VerificationStatus.IDLE);\n  const [isMoonWalletAvailable, setIsMoonWalletAvailable] = useState<boolean>(false);\n  const [connectionEndpoint, setConnectionEndpoint] = useState<string>('');\n  const [signatureResult, setSignatureResult] = useState<string>('');\n  \n  // Kiểm tra chương trình\n  useEffect(() => {\n    const checkPrograms = async () => {\n      try {\n        // Lấy endpoint của connection để hiển thị\n        const endpoint = connection.rpcEndpoint;\n        setConnectionEndpoint(endpoint);\n        console.log(\"Đang kết nối đến:\", endpoint);\n        \n        // Kiểm tra chương trình MoonWallet\n        try {\n          const moonWalletInfo = await connection.getAccountInfo(programID);\n          setIsMoonWalletAvailable(moonWalletInfo !== null);\n          \n          if (moonWalletInfo === null) {\n            console.warn(\"Chương trình MoonWallet không tồn tại trên validator này!\");\n          } else {\n            console.log(\"Đã tìm thấy chương trình MoonWallet:\", programID.toString());\n          }\n        } catch (error) {\n          console.error(\"Lỗi khi kiểm tra chương trình MoonWallet:\", error);\n          setIsMoonWalletAvailable(false);\n        }\n      } catch (error) {\n        console.error(\"Lỗi khi kiểm tra chương trình:\", error);\n      }\n    };\n    \n    checkPrograms();\n  }, [connection]);\n  \n  // Xử lý khi nhập message\n  const handleMessageChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setMessage(e.target.value);\n    setError('');\n    setSuccess('');\n    setStatus(VerificationStatus.IDLE);\n    setSignatureResult('');\n  };\n  \n  // Xử lý khi submit form\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    setIsProcessing(true);\n    setError('');\n    setSuccess('');\n    setSignatureResult('');\n    setStatus(VerificationStatus.PREPARING);\n    \n    try {\n      // Kiểm tra đầu vào\n      if (!message) {\n        throw new Error('Vui lòng nhập tin nhắn cần ký');\n      }\n      \n      // Chuyển message thành bytes\n      const messageBytes = new TextEncoder().encode(message);\n      console.log('Message bytes (UTF-8):', Array.from(messageBytes));\n      console.log('Message bytes (hex):', Array.from(messageBytes).map(b => b.toString(16).padStart(2, '0')).join(''));\n      \n      // Lấy PDA từ credential ID\n      const multisigPDA = await getMultisigPDA(credentialId);\n      console.log('MultisigPDA:', multisigPDA.toBase58());\n      \n      // Lấy PDA của guardian\n      const guardianPDA = await getGuardianPDA(multisigPDA, guardianId);\n      console.log('GuardianPDA:', guardianPDA.toBase58());\n      \n      // Ký message bằng WebAuthn\n      setStatus(VerificationStatus.SIGNING);\n      \n      // Hiển thị thông báo\n      console.log('Đang yêu cầu xác thực WebAuthn...');\n      setError(''); // Xóa thông báo lỗi trước đó\n      setSuccess('Đang hiển thị danh sách khóa WebAuthn, vui lòng chọn khóa để xác thực...');\n      \n      // Sử dụng trực tiếp message gốc làm dữ liệu để ký với WebAuthn\n      // WebAuthn sẽ tự động hash dữ liệu này với SHA-256 trước khi ký\n      const assertion = await getWebAuthnAssertion(null, message, true);\n      \n      if (!assertion) {\n        throw new Error('Lỗi khi ký message bằng WebAuthn hoặc người dùng đã hủy xác thực');\n      }\n      \n      console.log('Đã ký thành công bằng WebAuthn');\n      console.log('ClientDataJSON:', new TextDecoder().decode(assertion.clientDataJSON));\n      \n      // Phân tích clientDataJSON để hiểu cách WebAuthn hash message\n      try {\n        const clientDataObj = JSON.parse(new TextDecoder().decode(assertion.clientDataJSON));\n        console.log('ClientData object:', clientDataObj);\n      } catch (e) {\n        console.error('Lỗi khi phân tích clientDataJSON:', e);\n      }\n      \n      setSuccess(''); // Xóa thông báo thành công tạm thời\n      \n      // Lấy chữ ký từ WebAuthn assertion và chuyển đổi từ DER sang raw format\n      console.log('Signature từ WebAuthn (DER format):', Buffer.from(assertion.signature).toString('hex'));\n      console.log('Độ dài signature ban đầu:', assertion.signature.byteLength);\n      \n      // Chuyển đổi signature từ DER sang raw format (r, s)\n      const rawSignature = convertDERtoRaw(assertion.signature);\n      const signature = Buffer.from(rawSignature);\n      \n      console.log('Signature sau khi chuyển đổi (raw format):', signature.toString('hex'));\n      console.log('Độ dài signature sau khi chuyển đổi:', signature.length);\n      \n      // Thêm bước chuẩn hóa signature về dạng Low-S\n      const normalizedSignature = normalizeSignatureToLowS(signature);\n      console.log(\"Signature sau khi chuẩn hóa (Low-S format):\", normalizedSignature.toString(\"hex\"));\n      \n      // LẤY WEBAUTHN PUBLIC KEY TỪ FIREBASE\n      console.log('Lấy WebAuthn public key từ Firebase...');\n      const credentialMapping = await getWalletByCredentialId(credentialId);\n      \n      if (!credentialMapping || !credentialMapping.guardianPublicKey || credentialMapping.guardianPublicKey.length === 0) {\n        throw new Error('Không tìm thấy public key cho credential ID này');\n      }\n      \n      // Sử dụng WebAuthn public key từ Firebase\n      console.log('Đã tìm thấy WebAuthn public key trong Firebase:', credentialMapping.guardianPublicKey);\n      // Chuyển đổi từ mảng số về Buffer\n      const webAuthnPubKey = Buffer.from(new Uint8Array(credentialMapping.guardianPublicKey));\n      \n      // Kiểm tra độ dài khóa\n      if (webAuthnPubKey.length !== 33) {\n        console.warn(`WebAuthn public key từ Firebase có độ dài không đúng: ${webAuthnPubKey.length} bytes, cần 33 bytes`);\n      }\n      \n      // Xác minh chữ ký\n      setStatus(VerificationStatus.VERIFYING);\n      \n      // Tạo ví tạm để trả phí giao dịch\n      const feePayer = web3.Keypair.generate();\n      \n      // Xin SOL airdrop để trả phí\n      try {\n        const airdropSignature = await connection.requestAirdrop(\n          feePayer.publicKey,\n          web3.LAMPORTS_PER_SOL / 50 // 0.02 SOL để trả phí\n        );\n        await connection.confirmTransaction(airdropSignature);\n        \n        // Kiểm tra số dư sau khi airdrop\n        const feePayerBalance = await connection.getBalance(feePayer.publicKey);\n        console.log(`Fee payer balance: ${feePayerBalance / LAMPORTS_PER_SOL} SOL`);\n        \n        if (feePayerBalance === 0) {\n          throw new Error('Không thể airdrop SOL cho fee payer');\n        }\n      } catch (airdropError) {\n        console.warn('Không thể airdrop SOL để trả phí:', airdropError);\n        // Tiếp tục thực hiện vì có thể account đã có sẵn SOL\n      }\n      \n      // Sử dụng hàm verifySecp256r1Signature để kiểm tra chữ ký\n      try {\n        const txid = await verifySecp256r1Signature(\n          connection,\n          Buffer.from(messageBytes),\n          webAuthnPubKey,\n          normalizedSignature,\n          feePayer,\n          false // Không đảo ngược public key\n        );\n        \n        setStatus(VerificationStatus.SUCCESS);\n        setSuccess('Xác minh chữ ký thành công!');\n        setSignatureResult(txid);\n        console.log('Kết quả xác minh chữ ký:', txid);\n      } catch (verifyError: any) {\n        throw new Error(`Lỗi khi xác minh chữ ký: ${verifyError.message}`);\n      }\n      \n    } catch (error: any) {\n      console.error('Lỗi khi xác minh chữ ký:', error);\n      setError(error.message || 'Đã xảy ra lỗi khi xác minh chữ ký');\n      setStatus(VerificationStatus.ERROR);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  \n  // Render status message dựa trên status\n  const renderStatusMessage = () => {\n    switch (status) {\n      case VerificationStatus.PREPARING:\n        return 'Đang chuẩn bị xác minh chữ ký...';\n      case VerificationStatus.SIGNING:\n        return 'Vui lòng xác thực bằng WebAuthn (vân tay hoặc Face ID) khi được yêu cầu...';\n      case VerificationStatus.VERIFYING:\n        return 'Đang xác minh chữ ký trên blockchain...';\n      case VerificationStatus.SUCCESS:\n        return 'Xác minh chữ ký thành công!';\n      case VerificationStatus.ERROR:\n        return 'Xác minh chữ ký thất bại!';\n      default:\n        return '';\n    }\n  };\n  \n  // Hiển thị ghi chú về validator cục bộ\n  const renderValidatorNote = () => {\n    if (connectionEndpoint.includes('localhost') || connectionEndpoint.includes('127.0.0.1')) {\n      return (\n        <div className=\"info-note\">\n          <p><strong>Lưu ý:</strong> Bạn đang kết nối đến validator cục bộ.</p>\n        </div>\n      );\n    }\n    return null;\n  };\n  \n  return (\n    <div className=\"verify-signature-form\">\n      <h2>Xác minh chữ ký WebAuthn - Secp256r1</h2>\n      \n      <div className=\"wallet-info\">\n        <p>Kết nối đến: <strong>{connectionEndpoint}</strong></p>\n        <p>Credential ID: <strong>{credentialId.substring(0, 8)}...{credentialId.substring(credentialId.length - 8)}</strong></p>\n        \n        {/* Hiển thị trạng thái MoonWallet program */}\n        <div className={!isMoonWalletAvailable ? \"warning-message\" : \"info-message\"}>\n          <p><strong>Trạng thái chương trình:</strong></p>\n          <ul>\n            <li>\n              <span className={isMoonWalletAvailable ? \"status-ok\" : \"status-error\"}>\n                {isMoonWalletAvailable ? '✅' : '❌'}\n              </span> \n              MoonWallet: <code>{programID.toString()}</code>\n            </li>\n            <li>\n              <span className=\"status-ok\">✅</span> \n              Secp256r1SigVerify: <code>{SECP256R1_PROGRAM_ID.toString()}</code>\n              <p className=\"program-note\">Chương trình native Secp256r1SigVerify luôn có sẵn trên các validator Solana</p>\n            </li>\n          </ul>\n          \n          {renderValidatorNote()}\n        </div>\n      </div>\n      \n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"message\">Tin nhắn cần ký và xác minh:</label>\n          <textarea\n            id=\"message\"\n            value={message}\n            onChange={handleMessageChange}\n            placeholder=\"Nhập tin nhắn cần ký và xác minh\"\n            disabled={isProcessing}\n            required\n            rows={4}\n          />\n        </div>\n        \n        {success && <div className=\"success-message\">{success}</div>}\n        {error && <div className=\"error-message\">{error}</div>}\n        \n        {status !== VerificationStatus.IDLE && (\n          <div className=\"status-message\">\n            <p>{renderStatusMessage()}</p>\n          </div>\n        )}\n        \n        {signatureResult && (\n          <div className=\"verification-result\">\n            <h3>Kết quả xác minh</h3>\n            <p>Transaction ID: <a href={`https://explorer.solana.com/tx/${signatureResult}`} target=\"_blank\" rel=\"noopener noreferrer\">{signatureResult.slice(0, 8)}...{signatureResult.slice(-8)}</a></p>\n            <p>Chữ ký đã được xác minh thành công trên blockchain!</p>\n          </div>\n        )}\n        \n        <button \n          type=\"submit\" \n          className=\"primary-button\" \n          disabled={isProcessing}\n        >\n          {isProcessing ? 'Đang xử lý...' : 'Xác minh chữ ký'}\n        </button>\n      </form>\n      \n      <style>\n        {`\n          .verify-signature-form {\n            max-width: 800px;\n            margin: 0 auto;\n            padding: 20px;\n          }\n          \n          .form-group {\n            margin-bottom: 15px;\n          }\n          \n          label {\n            display: block;\n            margin-bottom: 8px;\n            font-weight: bold;\n          }\n          \n          textarea {\n            width: 100%;\n            padding: 10px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            font-family: monospace;\n            margin-bottom: 15px;\n            font-size: 14px;\n          }\n          \n          .primary-button {\n            background-color: #2196F3;\n            color: white;\n            border: none;\n            padding: 10px 15px;\n            border-radius: 4px;\n            cursor: pointer;\n            font-weight: bold;\n            transition: background-color 0.3s;\n          }\n          \n          .primary-button:hover {\n            background-color: #0b7dda;\n          }\n          \n          .primary-button:disabled {\n            background-color: #cccccc;\n            cursor: not-allowed;\n          }\n          \n          .success-message, .error-message, .warning-message, .info-message {\n            margin: 12px 0;\n            padding: 10px;\n            border-radius: 4px;\n            font-weight: 500;\n          }\n          \n          .success-message {\n            background-color: rgba(0, 200, 83, 0.1);\n            color: #00C853;\n            border: 1px solid #00C853;\n          }\n          \n          .error-message {\n            background-color: rgba(255, 87, 34, 0.1);\n            color: #FF5722;\n            border: 1px solid #FF5722;\n          }\n          \n          .warning-message {\n            background-color: rgba(255, 152, 0, 0.1);\n            color: #FF9800;\n            border: 1px solid #FF9800;\n          }\n          \n          .info-message {\n            background-color: rgba(33, 150, 243, 0.1);\n            color: #333;\n            border: 1px solid #2196F3;\n          }\n          \n          .status-message {\n            margin: 12px 0;\n            padding: 10px;\n            background-color: rgba(33, 150, 243, 0.1);\n            border: 1px solid #2196F3;\n            border-radius: 4px;\n            color: #2196F3;\n          }\n          \n          .verification-result {\n            margin: 20px 0;\n            padding: 15px;\n            background-color: rgba(0, 200, 83, 0.1);\n            border: 1px solid #00C853;\n            border-radius: 4px;\n          }\n          \n          .verification-result h3 {\n            margin-top: 0;\n            color: #00C853;\n          }\n          \n          .verification-result a {\n            color: #2196F3;\n            text-decoration: none;\n          }\n          \n          .verification-result a:hover {\n            text-decoration: underline;\n          }\n          \n          .status-ok {\n            color: #00C853;\n          }\n          \n          .status-error {\n            color: #FF5722;\n          }\n          \n          .info-note {\n            margin-top: 12px;\n            padding: 8px;\n            background-color: #f8f9fa;\n            border-left: 4px solid #2196F3;\n            font-size: 0.9em;\n          }\n          \n          code {\n            font-family: monospace;\n            background-color: #f5f5f5;\n            padding: 2px 4px;\n            border-radius: 2px;\n          }\n        `}\n      </style>\n    </div>\n  );\n}; "],"mappings":"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QAC1BY,QAAQ,EAAEpF,YAAa;QAAAyE,QAAA,EAEtBzE,YAAY,GAAG,eAAe,GAAG;MAAiB;QAAA0E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAEPxH,OAAA;MAAAoH,QAAA,EACG;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEV,CAAC;AAAChF,EAAA,CArbWN,YAAgD;AAAAmG,EAAA,GAAhDnG,YAAgD;AAAA,IAAAmG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}