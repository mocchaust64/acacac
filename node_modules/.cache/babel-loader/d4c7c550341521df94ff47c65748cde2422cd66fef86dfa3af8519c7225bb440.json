{"ast":null,"code":"var _jsxFileName = \"/Users/tai/Documents/MoonWallet/moonwallet/acacac/src/components/Transfer.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { PublicKey } from '@solana/web3.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Transfer = ({\n  multisigAddress,\n  balance,\n  withdrawFromMultisig\n}) => {\n  _s();\n  const [amount, setAmount] = useState(0);\n  const [destinationAddress, setDestinationAddress] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const handleAmountChange = e => {\n    const value = parseFloat(e.target.value);\n    setAmount(isNaN(value) ? 0 : value);\n  };\n  const handleAddressChange = e => {\n    setDestinationAddress(e.target.value);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!multisigAddress) {\n      setError('Không có ví đa chữ ký được tìm thấy');\n      return;\n    }\n    if (amount <= 0) {\n      setError('Vui lòng nhập số lượng SOL hợp lệ');\n      return;\n    }\n    if (!destinationAddress) {\n      setError('Vui lòng nhập địa chỉ ví đích');\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Kiểm tra địa chỉ đích\n      try {\n        new PublicKey(destinationAddress);\n      } catch (err) {\n        setError('Địa chỉ ví đích không hợp lệ');\n        setLoading(false);\n        return;\n      }\n\n      // Kiểm tra số dư\n      if (amount > balance) {\n        setError(`Số dư không đủ. Số dư hiện tại: ${balance} SOL`);\n        setLoading(false);\n        return;\n      }\n      await withdrawFromMultisig(amount, destinationAddress);\n      setSuccess(true);\n      setAmount(0);\n      setDestinationAddress('');\n    } catch (err) {\n      console.error('Lỗi khi chuyển tiền:', err);\n      setError(`Lỗi khi chuyển tiền: ${err instanceof Error ? err.message : 'Lỗi không xác định'}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Reset thông báo thành công sau 5 giây\n  useEffect(() => {\n    if (success) {\n      const timer = setTimeout(() => {\n        setSuccess(false);\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [success]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"transfer-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Chuy\\u1EC3n SOL\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"balance-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u0110\\u1ECBa ch\\u1EC9 v\\xED \\u0111a ch\\u1EEF k\\xFD: \", (multisigAddress === null || multisigAddress === void 0 ? void 0 : multisigAddress.toString()) || 'Chưa tạo']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"S\\u1ED1 d\\u01B0: \", balance, \" SOL\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-message\",\n      children: \"Giao d\\u1ECBch chuy\\u1EC3n ti\\u1EC1n th\\xE0nh c\\xF4ng!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"amount\",\n          children: \"S\\u1ED1 l\\u01B0\\u1EE3ng SOL:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"amount\",\n          type: \"number\",\n          step: \"0.001\",\n          min: \"0\",\n          value: amount || '',\n          onChange: handleAmountChange,\n          placeholder: \"Nh\\u1EADp s\\u1ED1 l\\u01B0\\u1EE3ng SOL\",\n          disabled: loading,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"destination\",\n          children: \"\\u0110\\u1ECBa ch\\u1EC9 v\\xED \\u0111\\xEDch:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"destination\",\n          type: \"text\",\n          value: destinationAddress,\n          onChange: handleAddressChange,\n          placeholder: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9 v\\xED \\u0111\\xEDch\",\n          disabled: loading,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"primary-button\",\n        disabled: loading || !multisigAddress || balance <= 0,\n        children: loading ? 'Đang xử lý...' : 'Chuyển SOL'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n_s(Transfer, \"lnVKMWC2RfDNA+hZEFuxEuoWTjE=\");\n_c = Transfer;\nexport default Transfer;\nvar _c;\n$RefreshReg$(_c, \"Transfer\");","map":{"version":3,"names":["React","useState","useEffect","PublicKey","jsxDEV","_jsxDEV","Transfer","multisigAddress","balance","withdrawFromMultisig","_s","amount","setAmount","destinationAddress","setDestinationAddress","loading","setLoading","error","setError","success","setSuccess","handleAmountChange","e","value","parseFloat","target","isNaN","handleAddressChange","handleSubmit","preventDefault","err","console","Error","message","timer","setTimeout","clearTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toString","onSubmit","htmlFor","id","type","step","min","onChange","placeholder","disabled","required","_c","$RefreshReg$"],"sources":["/Users/tai/Documents/MoonWallet/moonwallet/acacac/src/components/Transfer.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { PublicKey, LAMPORTS_PER_SOL } from '@solana/web3.js';\n\ninterface TransferProps {\n  multisigAddress: PublicKey | null;\n  balance: number;\n  withdrawFromMultisig: (amount: number, destinationAddress: string) => Promise<void>;\n}\n\nconst Transfer: React.FC<TransferProps> = ({ multisigAddress, balance, withdrawFromMultisig }) => {\n  const [amount, setAmount] = useState<number>(0);\n  const [destinationAddress, setDestinationAddress] = useState<string>('');\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<boolean>(false);\n  \n  const handleAmountChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = parseFloat(e.target.value);\n    setAmount(isNaN(value) ? 0 : value);\n  };\n  \n  const handleAddressChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setDestinationAddress(e.target.value);\n  };\n  \n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!multisigAddress) {\n      setError('Không có ví đa chữ ký được tìm thấy');\n      return;\n    }\n    \n    if (amount <= 0) {\n      setError('Vui lòng nhập số lượng SOL hợp lệ');\n      return;\n    }\n    \n    if (!destinationAddress) {\n      setError('Vui lòng nhập địa chỉ ví đích');\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      setError(null);\n      \n      // Kiểm tra địa chỉ đích\n      try {\n        new PublicKey(destinationAddress);\n      } catch (err) {\n        setError('Địa chỉ ví đích không hợp lệ');\n        setLoading(false);\n        return;\n      }\n      \n      // Kiểm tra số dư\n      if (amount > balance) {\n        setError(`Số dư không đủ. Số dư hiện tại: ${balance} SOL`);\n        setLoading(false);\n        return;\n      }\n      \n      await withdrawFromMultisig(amount, destinationAddress);\n      setSuccess(true);\n      setAmount(0);\n      setDestinationAddress('');\n    } catch (err) {\n      console.error('Lỗi khi chuyển tiền:', err);\n      setError(`Lỗi khi chuyển tiền: ${err instanceof Error ? err.message : 'Lỗi không xác định'}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  // Reset thông báo thành công sau 5 giây\n  useEffect(() => {\n    if (success) {\n      const timer = setTimeout(() => {\n        setSuccess(false);\n      }, 5000);\n      \n      return () => clearTimeout(timer);\n    }\n  }, [success]);\n  \n  return (\n    <div className=\"transfer-container\">\n      <h2>Chuyển SOL</h2>\n      \n      <div className=\"balance-info\">\n        <p>Địa chỉ ví đa chữ ký: {multisigAddress?.toString() || 'Chưa tạo'}</p>\n        <p>Số dư: {balance} SOL</p>\n      </div>\n      \n      {error && (\n        <div className=\"error-message\">\n          {error}\n        </div>\n      )}\n      \n      {success && (\n        <div className=\"success-message\">\n          Giao dịch chuyển tiền thành công!\n        </div>\n      )}\n      \n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"amount\">Số lượng SOL:</label>\n          <input\n            id=\"amount\"\n            type=\"number\"\n            step=\"0.001\"\n            min=\"0\"\n            value={amount || ''}\n            onChange={handleAmountChange}\n            placeholder=\"Nhập số lượng SOL\"\n            disabled={loading}\n            required\n          />\n        </div>\n        \n        <div className=\"form-group\">\n          <label htmlFor=\"destination\">Địa chỉ ví đích:</label>\n          <input\n            id=\"destination\"\n            type=\"text\"\n            value={destinationAddress}\n            onChange={handleAddressChange}\n            placeholder=\"Nhập địa chỉ ví đích\"\n            disabled={loading}\n            required\n          />\n        </div>\n        \n        <button \n          type=\"submit\" \n          className=\"primary-button\"\n          disabled={loading || !multisigAddress || balance <= 0}\n        >\n          {loading ? 'Đang xử lý...' : 'Chuyển SOL'}\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Transfer; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,QAA0B,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAQ9D,MAAMC,QAAiC,GAAGA,CAAC;EAAEC,eAAe;EAAEC,OAAO;EAAEC;AAAqB,CAAC,KAAK;EAAAC,EAAA;EAChG,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAS,CAAC,CAAC;EAC/C,MAAM,CAACY,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGb,QAAQ,CAAS,EAAE,CAAC;EACxE,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAU,KAAK,CAAC;EACtD,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAgB,IAAI,CAAC;EACvD,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAU,KAAK,CAAC;EAEtD,MAAMoB,kBAAkB,GAAIC,CAAsC,IAAK;IACrE,MAAMC,KAAK,GAAGC,UAAU,CAACF,CAAC,CAACG,MAAM,CAACF,KAAK,CAAC;IACxCX,SAAS,CAACc,KAAK,CAACH,KAAK,CAAC,GAAG,CAAC,GAAGA,KAAK,CAAC;EACrC,CAAC;EAED,MAAMI,mBAAmB,GAAIL,CAAsC,IAAK;IACtER,qBAAqB,CAACQ,CAAC,CAACG,MAAM,CAACF,KAAK,CAAC;EACvC,CAAC;EAED,MAAMK,YAAY,GAAG,MAAON,CAAkB,IAAK;IACjDA,CAAC,CAACO,cAAc,CAAC,CAAC;IAElB,IAAI,CAACtB,eAAe,EAAE;MACpBW,QAAQ,CAAC,qCAAqC,CAAC;MAC/C;IACF;IAEA,IAAIP,MAAM,IAAI,CAAC,EAAE;MACfO,QAAQ,CAAC,mCAAmC,CAAC;MAC7C;IACF;IAEA,IAAI,CAACL,kBAAkB,EAAE;MACvBK,QAAQ,CAAC,+BAA+B,CAAC;MACzC;IACF;IAEA,IAAI;MACFF,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;;MAEd;MACA,IAAI;QACF,IAAIf,SAAS,CAACU,kBAAkB,CAAC;MACnC,CAAC,CAAC,OAAOiB,GAAG,EAAE;QACZZ,QAAQ,CAAC,8BAA8B,CAAC;QACxCF,UAAU,CAAC,KAAK,CAAC;QACjB;MACF;;MAEA;MACA,IAAIL,MAAM,GAAGH,OAAO,EAAE;QACpBU,QAAQ,CAAC,mCAAmCV,OAAO,MAAM,CAAC;QAC1DQ,UAAU,CAAC,KAAK,CAAC;QACjB;MACF;MAEA,MAAMP,oBAAoB,CAACE,MAAM,EAAEE,kBAAkB,CAAC;MACtDO,UAAU,CAAC,IAAI,CAAC;MAChBR,SAAS,CAAC,CAAC,CAAC;MACZE,qBAAqB,CAAC,EAAE,CAAC;IAC3B,CAAC,CAAC,OAAOgB,GAAG,EAAE;MACZC,OAAO,CAACd,KAAK,CAAC,sBAAsB,EAAEa,GAAG,CAAC;MAC1CZ,QAAQ,CAAC,wBAAwBY,GAAG,YAAYE,KAAK,GAAGF,GAAG,CAACG,OAAO,GAAG,oBAAoB,EAAE,CAAC;IAC/F,CAAC,SAAS;MACRjB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;;EAED;EACAd,SAAS,CAAC,MAAM;IACd,IAAIiB,OAAO,EAAE;MACX,MAAMe,KAAK,GAAGC,UAAU,CAAC,MAAM;QAC7Bf,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,EAAE,IAAI,CAAC;MAER,OAAO,MAAMgB,YAAY,CAACF,KAAK,CAAC;IAClC;EACF,CAAC,EAAE,CAACf,OAAO,CAAC,CAAC;EAEb,oBACEd,OAAA;IAAKgC,SAAS,EAAC,oBAAoB;IAAAC,QAAA,gBACjCjC,OAAA;MAAAiC,QAAA,EAAI;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEnBrC,OAAA;MAAKgC,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3BjC,OAAA;QAAAiC,QAAA,GAAG,uDAAsB,EAAC,CAAA/B,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEoC,QAAQ,CAAC,CAAC,KAAI,UAAU;MAAA;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACxErC,OAAA;QAAAiC,QAAA,GAAG,mBAAO,EAAC9B,OAAO,EAAC,MAAI;MAAA;QAAA+B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CAAC,EAELzB,KAAK,iBACJZ,OAAA;MAAKgC,SAAS,EAAC,eAAe;MAAAC,QAAA,EAC3BrB;IAAK;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAEAvB,OAAO,iBACNd,OAAA;MAAKgC,SAAS,EAAC,iBAAiB;MAAAC,QAAA,EAAC;IAEjC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACN,eAEDrC,OAAA;MAAMuC,QAAQ,EAAEhB,YAAa;MAAAU,QAAA,gBAC3BjC,OAAA;QAAKgC,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzBjC,OAAA;UAAOwC,OAAO,EAAC,QAAQ;UAAAP,QAAA,EAAC;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC7CrC,OAAA;UACEyC,EAAE,EAAC,QAAQ;UACXC,IAAI,EAAC,QAAQ;UACbC,IAAI,EAAC,OAAO;UACZC,GAAG,EAAC,GAAG;UACP1B,KAAK,EAAEZ,MAAM,IAAI,EAAG;UACpBuC,QAAQ,EAAE7B,kBAAmB;UAC7B8B,WAAW,EAAC,uCAAmB;UAC/BC,QAAQ,EAAErC,OAAQ;UAClBsC,QAAQ;QAAA;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAENrC,OAAA;QAAKgC,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzBjC,OAAA;UAAOwC,OAAO,EAAC,aAAa;UAAAP,QAAA,EAAC;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACrDrC,OAAA;UACEyC,EAAE,EAAC,aAAa;UAChBC,IAAI,EAAC,MAAM;UACXxB,KAAK,EAAEV,kBAAmB;UAC1BqC,QAAQ,EAAEvB,mBAAoB;UAC9BwB,WAAW,EAAC,qDAAsB;UAClCC,QAAQ,EAAErC,OAAQ;UAClBsC,QAAQ;QAAA;UAAAd,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAENrC,OAAA;QACE0C,IAAI,EAAC,QAAQ;QACbV,SAAS,EAAC,gBAAgB;QAC1Be,QAAQ,EAAErC,OAAO,IAAI,CAACR,eAAe,IAAIC,OAAO,IAAI,CAAE;QAAA8B,QAAA,EAErDvB,OAAO,GAAG,eAAe,GAAG;MAAY;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV,CAAC;AAAChC,EAAA,CAzIIJ,QAAiC;AAAAgD,EAAA,GAAjChD,QAAiC;AA2IvC,eAAeA,QAAQ;AAAC,IAAAgD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}